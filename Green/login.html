<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login ‚Ä¢ Krishi Sakhi</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <style>
    body { 
      background: linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)),
                  url('https://images.unsplash.com/photo-1560684352-8497838a2228?q=80&w=1600&auto=format&fit=crop');
      background-size: cover; background-position: center; background-attachment: fixed;
    }
    .card { background: rgba(255,255,255,0.96); backdrop-filter: blur(3px); box-shadow: 0 10px 30px rgba(0,0,0,.35); }
  </style>
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <div class="brand">Krishi Sakhi</div>
      <nav>
        <ul class="nav">
          <li><a href="index.html"><span class="icon"><i class="fa-solid fa-house"></i></span> <span data-i18n="home">Home</span></a></li>
          <li><a href="signup.html"><span class="icon"><i class="fa-solid fa-user-plus"></i></span> <span data-i18n="signup">Signup</span></a></li>
          <li><a class="active" href="login.html"><span class="icon"><i class="fa-solid fa-right-to-bracket"></i></span> <span data-i18n="login">Login</span></a></li>
          <li><a href="profile.html"><span class="icon"><i class="fa-solid fa-user"></i></span> <span data-i18n="profile">Profile</span></a></li>
          <li><a href="farm-details.html"><span class="icon"><i class="fa-solid fa-gear"></i></span> <span data-i18n="farm">Farm Details</span></a></li>
          <li><a href="crops-yield.html"><span class="icon"><i class="fa-solid fa-seedling"></i></span> <span data-i18n="crops">Crops &amp; Yield</span></a></li>
          <li><a href="irrigation.html"><span class="icon"><i class="fa-solid fa-droplet"></i></span> <span data-i18n="irrigation">Irrigation</span></a></li>
          <li><a href="analytics.html"><span class="icon"><i class="fa-solid fa-chart-line"></i></span> <span data-i18n="analytics">Analytics</span></a></li>
          <li><a href="marketplace.html"><span class="icon"><i class="fa-solid fa-store"></i></span> <span data-i18n="market">Marketplace</span></a></li>
          <li><a href="settings.html"><span class="icon"><i class="fa-solid fa-sliders"></i></span> <span data-i18n="settings">Settings</span></a></li>
          <li><a href="weather.html"><span class="icon"><i class="fa-solid fa-cloud-sun"></i></span> <span data-i18n="weather">Weather</span></a></li>
          <li><a href="chatbot.html"><span class="icon"><i class="fa-solid fa-robot"></i></span> <span data-i18n="chat">Chatbot</span></a></li>
        </ul>
      </nav>
    </aside>
    <main class="main">
      <div class="actions" style="justify-content:space-between;align-items:center;margin-bottom:12px">
        <div class="lang-toggle">
          <button id="btn-en" class="active">English</button>
          <button id="btn-ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</button>
        </div>
        <a class="btn secondary" href="signup.html"><i class="fa-solid fa-user-plus"></i> <span data-i18n="goto_signup">Go to Signup</span></a>
      </div>

      <div class="card">
        <h1 class="header" data-i18n="title">Login</h1>

        <!-- Removed large tab buttons for a cleaner look -->

        <form id="formPassword" class="row g-2">
          <div>
            <div class="label" data-i18n="username">Username</div>
            <div class="input-with-voice"><input class="input" id="uName" placeholder="Username / ‡¥â‡¥™‡¥Ø‡µã‡¥ï‡µç‡¥§‡µÉ‡¥®‡¥æ‡¥Æ‡¥Ç" /><button type="button" class="voice-btn" data-target="uName">üé§</button></div>
          </div>
          <div>
            <div class="label" data-i18n="password">Password</div>
            <input class="input" id="uPass" type="password" placeholder="Password / ‡¥™‡¥æ‡¥∏‡µç‚Äå‡¥µ‡µá‡¥°‡µç" />
          </div>
          <label><input type="checkbox" id="remember" /> <span data-i18n="remember">Remember me</span></label>
          <div class="actions" style="grid-column:1/-1">
            <button class="btn" type="submit"><i class="fa-solid fa-right-to-bracket"></i> <span data-i18n="login_btn">Login</span></button>
            <a class="btn link" id="forgot" href="#"><i class="fa-regular fa-circle-question"></i> <span data-i18n="forgot">Forgot password?</span></a>
            <a class="btn link" id="toOtp" href="#"><i class="fa-solid fa-mobile-screen"></i> <span data-i18n="tab_otp">Mobile OTP</span></a>
          </div>
        </form>

        <form id="formOTP" class="row g-2" style="display:none">
          <div>
            <div class="label" data-i18n="phone">Phone</div>
            <input class="input" id="otpPhone" placeholder="Phone / ‡¥´‡µã‡µ∫" />
          </div>
          <div class="actions" style="grid-column:1/-1">
            <button class="btn" id="sendOTP" type="button"><i class="fa-solid fa-paper-plane"></i> <span data-i18n="send_otp">Send OTP</span></button>
            <input class="input" id="otpCode" placeholder="Enter OTP / ‡¥í‡¥ü‡¥ø‡¥™‡¥ø ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï" style="max-width:220px" />
            <button class="btn" id="verifyOTP" type="button"><i class="fa-solid fa-check"></i> <span data-i18n="verify">Verify</span></button>
            <a class="btn link" id="toPwd" href="#"><i class="fa-solid fa-key"></i> <span data-i18n="tab_password">Password</span></a>
          </div>
        </form>

      </div>
    </main>
  </div>
  <script>
    const I18N={
      en:{home:'Home',signup:'Signup',login:'Login',goto_signup:'Go to Signup',title:'Login',tab_password:'Password',tab_otp:'Mobile OTP',username:'Username',password:'Password',remember:'Remember me',login_btn:'Login',forgot:'Forgot password?',phone:'Phone',send_otp:'Send OTP',verify:'Verify'},
      ml:{home:'‡¥π‡µã‡¥Ç',signup:'‡¥∞‡¥ú‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡µº',login:'‡¥≤‡µã‡¥ó‡¥ø‡µª',goto_signup:'‡¥∞‡¥ú‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡µº ‡¥™‡µá‡¥ú‡¥ø‡¥≤‡µá‡¥ï‡µç‡¥ï‡µç',title:'‡¥≤‡µã‡¥ó‡¥ø‡µª',tab_password:'‡¥™‡¥æ‡¥∏‡µç‚Äå‡¥µ‡µá‡¥°‡µç',tab_otp:'‡¥Æ‡µä‡¥¨‡µà‡µΩ ‡¥í‡¥ü‡¥ø‡¥™‡¥ø',username:'‡¥â‡¥™‡¥Ø‡µã‡¥ï‡µç‡¥§‡µÉ‡¥®‡¥æ‡¥Æ‡¥Ç',password:'‡¥™‡¥æ‡¥∏‡µç‚Äå‡¥µ‡µá‡¥°‡µç',remember:'‡¥é‡¥®‡µç‡¥®‡µÜ ‡¥ì‡µº‡¥ï‡µç‡¥ï‡µÅ‡¥ï',login_btn:'‡¥≤‡µã‡¥ó‡¥ø‡µª',forgot:'‡¥™‡¥æ‡¥∏‡µç‚Äå‡¥µ‡µá‡¥°‡µç ‡¥Æ‡¥±‡¥®‡µç‡¥®‡µã?',phone:'‡¥´‡µã‡µ∫',send_otp:'‡¥í‡¥ü‡¥ø‡¥™‡¥ø ‡¥Ö‡¥Ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï',verify:'‡¥∏‡µç‡¥•‡¥ø‡¥∞‡µÄ‡¥ï‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï'}
    };
    const btnEn=document.getElementById('btn-en'), btnMl=document.getElementById('btn-ml'); let currentLang='en';
    function setLang(l){ currentLang=l; document.querySelectorAll('[data-i18n]').forEach(el=>{ const k=el.getAttribute('data-i18n'); el.textContent=I18N[l][k]||el.textContent; }); btnEn.classList.toggle('active',l==='en'); btnMl.classList.toggle('active',l==='ml'); }
    btnEn.addEventListener('click',()=>setLang('en')); btnMl.addEventListener('click',()=>setLang('ml')); setLang('en');

    // Voice input attach
    function attachVoice(btn){ const Rec=window.SpeechRecognition||window.webkitSpeechRecognition; if(!Rec){btn.style.display='none';return;} const id=btn.dataset.target; const input=document.getElementById(id); const rec=new Rec(); rec.continuous=false; rec.interimResults=false; btn.addEventListener('click',()=>{ rec.lang=currentLang==='en'?'en-IN':'ml-IN'; rec.start(); btn.classList.add('listening');}); rec.onresult=e=>{ input.value=e.results[0][0].transcript; }; rec.onend=()=>btn.classList.remove('listening'); }
    document.querySelectorAll('.voice-btn').forEach(attachVoice);

    // Switch links (Password ‚Üî OTP)
    const formPwd=document.getElementById('formPassword'), formOTP=document.getElementById('formOTP');
    document.getElementById('toOtp').addEventListener('click',(e)=>{ e.preventDefault(); formPwd.style.display='none'; formOTP.style.display='grid'; });
    document.getElementById('toPwd').addEventListener('click',(e)=>{ e.preventDefault(); formOTP.style.display='none'; formPwd.style.display='grid'; });

    // Password login
    formPwd.addEventListener('submit',e=>{ e.preventDefault(); const u=document.getElementById('uName').value.trim(); const p=document.getElementById('uPass').value.trim(); if(!u||!p){ alert(currentLang==='en'?'Enter username and password':'‡¥â‡¥™‡¥Ø‡µã‡¥ï‡µç‡¥§‡µÉ‡¥®‡¥æ‡¥Æ‡¥µ‡µÅ‡¥Ç ‡¥™‡¥æ‡¥∏‡µç‚Äå‡¥µ‡µá‡¥°‡µÅ‡¥Ç ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï'); return;} if(document.getElementById('remember').checked){ localStorage.setItem('green:remember', u);} localStorage.setItem('green:auth','1'); window.location.href='index.html'; });

    // OTP flow (mock)
    document.getElementById('sendOTP').addEventListener('click',()=>{ const ph=document.getElementById('otpPhone').value.trim(); if(!ph){ alert(currentLang==='en'?'Enter phone number':'‡¥´‡µã‡µ∫ ‡¥®‡¥Æ‡µç‡¥™‡µº ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï'); return;} localStorage.setItem('green:otp','123456'); alert(currentLang==='en'?'OTP sent: 123456 (demo)':'‡¥í‡¥ü‡¥ø‡¥™‡¥ø ‡¥Ö‡¥Ø‡¥ö‡µç‡¥ö‡µÅ: 123456 (‡¥°‡µÜ‡¥Æ‡µã)'); });
    document.getElementById('verifyOTP').addEventListener('click',()=>{ const code=document.getElementById('otpCode').value.trim(); if(code===localStorage.getItem('green:otp')){ localStorage.setItem('green:auth','1'); window.location.href='index.html'; } else { alert(currentLang==='en'?'Invalid OTP':'‡¥§‡µÜ‡¥±‡µç‡¥±‡¥æ‡¥Ø ‡¥í‡¥ü‡¥ø‡¥™‡¥ø'); } });

    // Forgot password (stub)
    document.getElementById('forgot').addEventListener('click',e=>{ e.preventDefault(); alert(currentLang==='en'?'Contact Krishi Bhavan to reset password.':'‡¥™‡¥æ‡¥∏‡µç‚Äå‡¥µ‡µá‡¥°‡µç ‡¥™‡µÅ‡¥®‡¥É‡¥ï‡µç‡¥∞‡¥Æ‡µÄ‡¥ï‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡µª ‡¥ï‡µÉ‡¥∑‡¥ø‡¥≠‡¥µ‡¥®‡µÅ‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥¨‡¥®‡µç‡¥ß‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥ï.'); });
  </script>
</body>
</html>
